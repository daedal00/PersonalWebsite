<div class="content-detail" *ngIf="content">
  <nav class="detail-nav">
    <button class="back-button" (click)="goBack()" aria-label="Go back">
      ← {{ getBackButtonText() }}
    </button>
  </nav>

  <article class="detail-article">
    <header class="detail-header">
      <h1 class="detail-title">{{ content.title }}</h1>
      <p class="detail-subtitle" *ngIf="content.subtitle">
        {{ content.subtitle }}
      </p>
      <p
        class="detail-meta"
        *ngIf="content.details && content.details['Duration']"
      >
        {{ content.details["Duration"] }}
      </p>
    </header>

    <div class="detail-content">
      <p class="detail-description">{{ content.description }}</p>

      <div
        class="detail-links"
        *ngIf="
          content.link ||
          content.liveWebsiteLink ||
          content.documentationLink ||
          content.reportLink ||
          content.notebookLink
        "
      >
        <a
          *ngIf="content.link"
          [href]="content.link"
          target="_blank"
          class="detail-link"
        >
          GitHub →
        </a>
        <a
          *ngIf="content.liveWebsiteLink"
          [href]="content.liveWebsiteLink"
          target="_blank"
          class="detail-link"
        >
          Live Demo →
        </a>
        <a
          *ngIf="content.documentationLink"
          [href]="content.documentationLink"
          target="_blank"
          class="detail-link"
        >
          Documentation →
        </a>
        <a
          *ngIf="content.reportLink"
          [href]="content.reportLink"
          target="_blank"
          class="detail-link"
        >
          Report →
        </a>
        <a
          *ngIf="content.notebookLink"
          [href]="content.notebookLink"
          target="_blank"
          class="detail-link"
        >
          Notebook →
        </a>
        <a
          *ngIf="content.wallpaperLink"
          [href]="content.wallpaperLink"
          target="_blank"
          class="detail-link"
        >
          Wallpaper →
        </a>
      </div>

      <div class="detail-info" *ngIf="content.details">
        <div
          *ngFor="let key of getContentKeys(content.details)"
          class="detail-info-section"
          [class.hidden]="shouldHideSection(key, content.details[key])"
        >
          <h3 class="detail-info-title">{{ key }}</h3>
          <div class="detail-info-content">
            <ng-container *ngIf="!isArray(content.details![key])">
              <p>{{ content.details![key] }}</p>
            </ng-container>
            <ng-container *ngIf="isArray(content.details![key])">
              <ul class="detail-tech-list">
                <li
                  *ngFor="let item of content.details![key]"
                  class="detail-tech-item"
                >
                  <span *ngIf="item.name">{{ item.name }}</span>
                  <span *ngIf="!item.name">{{ item }}</span>
                </li>
              </ul>
            </ng-container>
          </div>
        </div>
      </div>
    </div>
  </article>
</div>

<div class="not-found" *ngIf="!content">
  <nav class="detail-nav">
    <button class="back-button" (click)="goBack()" aria-label="Go back">
      ← {{ getBackButtonText() }}
    </button>
  </nav>
  <div class="not-found-content">
    <h1>Content not found</h1>
    <p>The requested content could not be found.</p>
  </div>
</div>

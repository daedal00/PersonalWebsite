/* Devicon for Technology Icons */
@import url("https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css");

/* Design System - Based on provided stylesheet */
:root {
  --OFF: initial;
  --ON: ;
  --basics-S: var(--OFF);
  --basics-M: var(--OFF);
  --basics-L: var(--OFF);
  --basics-XL: var(--OFF);
  --basics-XXL: var(--OFF);

  /* Color System */
  --bg: #1a1a1a;
  --fg: #ffffff;
  --mono1: #2a2a2a;
  --mono3: #404040;
  --mono5: #666666;
  --mono9: #999999;
  --mono11: #bbbbbb;
  --transparent: transparent;
  --mask-visible: #000000;
  --mask-hidden: rgba(0, 0, 0, 0);

  /* Legacy variables for backward compatibility */
  --text-primary: var(--fg);
  --text-secondary: var(--mono9);
  --text-tertiary: var(--mono5);
  --background: var(--bg);
  --background-secondary: var(--mono1);
  --border-light: var(--mono3);
  --accent: #0070f3;
  --accent-hover: #0051cc;

  /* Typography - All text should be 15px */
  --font-sans: InterVariable, Inter, -apple-system, BlinkMacSystemFont,
    "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, Consolas, Liberation Mono, Menlo,
    monospace;
  --font-size-base: 15px;

  /* Spacing system - Consistent spacing */
  --gap: 16px;
  --gap-s: 8px;
  --gap-2x: 32px;
  --gap-8x: 128px;
  --spacing-xs: 0.5rem;
  --spacing-sm: 0.75rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  --spacing-2xl: 3rem;
  --spacing-3xl: 4rem;
  --spacing-4xl: 6rem;

  /* Layout */
  --page-width: 1072px;
  --content-width: 640px;
  --container-max-width: 640px;
  --page-left: auto;
  --page-top: 64px;
  --header-height: 48px;
  --footer-height: 48px;
  --body-margin-left: max(24px, env(safe-area-inset-left));
  --body-margin-right: max(24px, env(safe-area-inset-right));

  /* Design tokens */
  --radius: 8px;
  --transition: 0.15s ease;
  --layer-above-sticky: 20;
  --layer-header: 10;
  --layer-sticky: 10;
}

@media (max-width: 1024px) {
  :root {
    --page-top: 128px;
  }
}

@media (max-width: 768px) {
  :root {
    --page-top: 64px;
  }
}

/* Reset and base styles */
*,
:after,
:before {
  box-sizing: border-box;
}

html {
  scroll-padding-top: calc(var(--header-height) + var(--gap-2x));
  font-size: 16px;
  scroll-behavior: smooth;
}

body,
html {
  height: 100%;
  font-family: var(--font-sans);
  background: var(--bg);
  color: var(--fg);
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  touch-action: manipulation;
}

body {
  margin: 0;
  overflow-x: hidden;
  overflow-y: scroll;
}

/* Typography - Restored Hierarchy */
b,
strong {
  font-weight: 600;
}

code,
kbd,
pre,
samp {
  font-family: var(--font-mono);
  font-size: var(--font-size-base);
}

sub,
sup {
  font-size: 60%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}

sub {
  bottom: -0.25em;
}

sup {
  top: -0.5em;
}

h1 {
  margin: 0;
  font-size: 32px;
  font-weight: 600;
  line-height: 1.2;
  letter-spacing: -0.01em;
  color: var(--fg);
}

h2 {
  margin: 0;
  font-size: 20px;
  font-weight: 600;
  line-height: 1.3;
  letter-spacing: -0.01em;
  color: var(--fg);
}

h3 {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  line-height: 1.4;
  color: var(--fg);
}

h4,
h5,
h6 {
  margin: 0;
  font-size: 16px;
  font-weight: 500;
  line-height: 1.5;
  color: var(--fg);
}

p {
  margin: 0;
  font-size: var(--font-size-base);
  line-height: 1.6;
  color: var(--mono9);
  font-weight: 400;
}

.description {
  font-size: var(--font-size-base);
  line-height: 1.6;
  color: var(--mono9);
  font-weight: 400;
}

/* Links */
a {
  color: inherit;
  text-decoration: underline;
  text-decoration-color: var(--mono5);
  text-underline-offset: 3px;
  text-decoration-thickness: 1px;
  transition: all var(--transition);
}

a:hover {
  color: var(--fg);
  text-decoration-color: var(--mono9);
}

a:focus {
  outline: none;
}

a:focus-visible {
  outline: 1px solid var(--mono9);
  outline-offset: 2px;
}

/* Form elements */
button,
input,
optgroup,
select,
textarea {
  font-family: inherit;
  font-size: 100%;
  line-height: 1.15;
  margin: 0;
}

button {
  cursor: pointer;
  font-family: inherit;
  font-weight: 400;
  border: none;
  background: none;
  font-size: 14px;
  transition: all var(--transition);
}

button:focus {
  outline: none;
}

button:focus-visible {
  outline: 1px solid var(--mono9);
  outline-offset: 2px;
}

/* SVG */
svg {
  shape-rendering: auto;
  vertical-align: middle;
}

blockquote,
figure {
  margin: 0;
}

/* Layout containers */
#__next {
  min-height: 100%;
  padding-left: var(--body-margin-left);
  padding-right: var(--body-margin-right);
  padding-bottom: env(safe-area-inset-bottom);
}

.main-grid {
  display: grid;
  grid-template-columns: 192px var(--content-width) 192px;
  grid-column-gap: 24px;
  column-gap: 24px;
  align-items: flex-start;
}

.main-grid > * {
  grid-column: 2;
}

@media (max-width: 1024px) {
  .main-grid {
    grid-template-columns: auto var(--content-width) auto;
    column-gap: 16px;
  }
}

@media (max-width: 768px) {
  .main-grid {
    display: flex;
    flex-direction: column;
    align-items: unset;
    justify-content: flex-start;
  }
}

main {
  min-height: calc(100vh - var(--footer-height));
  position: relative;
  padding: var(--page-top) 0;
  margin: 0 auto;
  max-width: var(--page-width);
}

@media (max-width: 768px) {
  main {
    max-width: var(--content-width);
  }
}

/* Blur effects */
.blur {
  position: relative;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  pointer-events: none;
  --h: min(96px, var(--page-top));
  position: sticky;
  width: calc(100% + var(--body-margin-left) + var(--body-margin-right));
  margin-left: calc(-1 * var(--body-margin-left));
  height: var(--h);
  z-index: 1;
  -webkit-backdrop-filter: blur(5px);
  backdrop-filter: blur(5px);
  opacity: 0.95;
  -webkit-mask-image: linear-gradient(
    var(--direction),
    var(--mask-visible) 25%,
    var(--mask-hidden)
  );
  mask-image: linear-gradient(
    var(--direction),
    var(--mask-visible) 25%,
    var(--mask-hidden)
  );
}

.blur:after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(var(--direction), var(--bg), var(--transparent));
}

.blur:first-child {
  margin-bottom: calc(-1 * var(--h));
  top: 0;
  --direction: to bottom;
}

.blur:last-child {
  margin-top: calc(-1 * var(--h));
  bottom: 0;
  --direction: to top;
}

/* Footer */
footer {
  border-top: 1px solid var(--mono5);
  position: relative;
  height: var(--footer-height);
  width: calc(100% + var(--body-margin-right) + var(--body-margin-left));
  left: calc(-1 * var(--body-margin-left));
  background: var(--bg);
  z-index: var(--layer-header);
  padding: 0 var(--body-margin-left);
}

footer > div {
  max-width: var(--content-width);
  margin: 0 auto;
  display: flex;
  align-items: center;
  height: 100%;
  white-space: nowrap;
}

footer > div > :first-child {
  margin-right: auto;
}

.subfooter {
  position: relative;
  width: calc(100% + var(--body-margin-right) + var(--body-margin-left));
  left: calc(-1 * var(--body-margin-left));
  border-top: 1px solid var(--mono5);
  padding: 0 var(--body-margin-left);
}

.subfooter section {
  max-width: var(--content-width);
  margin: 0 auto;
  padding: var(--gap-8x) 0;
}

/* Legacy container styles for backward compatibility */
.page-container,
.home-container,
.section-container,
.content-detail,
.not-found {
  max-width: var(--container-max-width);
  margin: 0 auto;
  padding: var(--spacing-lg) var(--spacing-lg) var(--spacing-xl);
  min-height: 100vh;
  font-family: var(--font-sans);
  line-height: 1.6;
  color: var(--fg);
}

.back-button {
  background: none;
  border: none;
  color: var(--mono9);
  font-size: 14px;
  cursor: pointer;
  padding: 0;
  transition: color var(--transition);
  font-family: inherit;
  font-weight: 400;
  margin-bottom: var(--spacing-md);

  &:hover {
    color: var(--fg);
  }

  &:focus {
    outline: none;
  }

  &:focus-visible {
    outline: 1px solid var(--mono9);
    outline-offset: 2px;
  }
}

/* Utility Classes */
.visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Scrollbar */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--mono3);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--mono5);
}

/* Focus styles */
:focus-visible {
  outline: 1px solid var(--mono9);
  outline-offset: 2px;
}

/* Responsive images */
img {
  max-width: 100%;
  height: auto;
}

/* App container */
.app-container {
  height: 100vh;
  width: 100vw;
  display: flex;
  flex-direction: column;
}

/* Utilities */
.text-truncate {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .page-container,
  .home-container,
  .section-container,
  .content-detail,
  .not-found {
    padding: var(--spacing-md) var(--spacing-md) var(--spacing-lg);
  }

  h1 {
    font-size: 28px;
  }

  h2 {
    font-size: 18px;
  }
}

@media (max-width: 480px) {
  .page-container,
  .home-container,
  .section-container,
  .content-detail,
  .not-found {
    padding: var(--spacing-md) var(--spacing-md);
  }

  h1 {
    font-size: 24px;
  }

  h2 {
    font-size: 16px;
  }
}

/* Animation system */
[data-animation-controller="false"] [data-animate] {
  animation: none;
}

[data-animate] {
  --stagger: 0;
  --delay: 120ms;
  --start: 0ms;
}

@media (prefers-reduced-motion: no-preference) {
  [data-animate] {
    animation: enter 0.6s both;
    animation-delay: calc(var(--stagger) * var(--delay) + var(--start));
  }
}

@keyframes enter {
  0% {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: none;
  }
}

/* Basics Design System Utilities */
[basics-text] {
  margin: 0;
}

[basics-text][basics-variant-weight="100"] {
  font-weight: 100;
}

[basics-text][basics-variant-weight="200"] {
  font-weight: 200;
}

[basics-text][basics-variant-weight="300"] {
  font-weight: 300;
}

[basics-text][basics-variant-weight="400"] {
  font-weight: 400;
}

[basics-text][basics-variant-weight="500"] {
  font-weight: 500;
}

[basics-text][basics-variant-weight="600"] {
  font-weight: 600;
}

[basics-text][basics-variant-weight="700"] {
  font-weight: 700;
}

[basics-text][basics-variant-weight="800"] {
  font-weight: 800;
}

[basics-text][basics-variant-weight="900"] {
  font-weight: 900;
}

[basics-text][basics-variant-align="left"] {
  text-align: left;
}

[basics-text][basics-variant-align="center"] {
  text-align: center;
}

[basics-text][basics-variant-align="right"] {
  text-align: right;
}

[basics-text][basics-variant-transform="uppercase"] {
  text-transform: uppercase;
}

[basics-text][basics-variant-transform="lowercase"] {
  text-transform: lowercase;
}

[basics-text][basics-variant-transform="capitalize"] {
  text-transform: capitalize;
}

[basics-text][basics-variant-break="break-all"] {
  word-break: break-all;
}

[basics-text][basics-variant-break="break-word"] {
  word-break: break-word;
}

[basics-text][basics-variant-clamp=""] {
  display: inline-block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  word-wrap: normal;
  max-width: 100%;
  min-width: 0;
}

[basics-text][basics-variant-clamp="_"] {
  display: -webkit-box;
  overflow: hidden;
  text-overflow: ellipsis;
  -webkit-line-clamp: var(--clamp-lines);
  -webkit-box-orient: vertical;
}

[basics-text][basics-variant~="tnum"] {
  font-feature-settings: "tnum" 1;
}

/* Stack Layout System */
[basics-stack] {
  position: relative;
  display: flex;
  flex: var(--basics-F, initial);
  min-width: 0;
  max-width: 100%;
  flex-wrap: var(--basics-W, nowrap) wrap;
  --_sma: var(--basics-S) var(--basics-SA);
  --_mda: var(--basics-M) var(--basics-MA);
  --_lga: var(--basics-L) var(--basics-LA);
  --_xla: var(--basics-XL) var(--basics-XLA);
  --_rA: var(
    --_xla,
    var(--_lga, var(--_mda, var(--_sma, var(--basics-A, stretch))))
  );
  align-items: var(--_rA);
  --_smj: var(--basics-S) var(--basics-SJ);
  --_mdj: var(--basics-M) var(--basics-MJ);
  --_lgj: var(--basics-L) var(--basics-LJ);
  --_xlj: var(--basics-XL) var(--basics-XLJ);
  --_rJ: var(
    --_xlj,
    var(--_lgj, var(--_mdj, var(--_smj, var(--basics-J, flex-start))))
  );
  justify-content: var(--_rJ);
  --_smd: var(--basics-S) var(--basics-SD);
  --_mdd: var(--basics-M) var(--basics-MD);
  --_lgd: var(--basics-L) var(--basics-LD);
  --_xld: var(--basics-XL) var(--basics-XLD);
  --_rD: var(
    --_xld,
    var(--_lgd, var(--_mdd, var(--_smd, var(--basics-D, column))))
  );
  flex-direction: var(--_rD);
  --x: var(--_xld, var(--_lgd, var(--_mdd, var(--_smd, var(--basics-D, 1)))));
  --left-margin: calc(var(--x) 1 * var(--_fG));
  --top-margin: calc(var(--x, 0) * var(--_fG));
  --_smg: var(--basics-S) var(--basics-SG);
  --_mdg: var(--basics-M) var(--basics-MG);
  --_lgg: var(--basics-L) var(--basics-LG);
  --_xlg: var(--basics-XL) var(--basics-XLG);
  --_rG: var(--_xlg, var(--_lgg, var(--_mdg, var(--_smg))));
  --_fG: calc(var(--basics-gap) * var(--_rG, var(--basics-G, 0)));
  --wrap-gap: var(--basics-W) var(--_fG);
}

[basics-stack] > * + * {
  margin-left: var(--wrap-gap, var(--left-margin)) !important;
  margin-top: var(--wrap-gap, var(--top-margin)) !important;
}

[basics-stack] > * + [basics-stack] {
  --parent-left-margin: calc(var(--basics-pD) 1 * var(--basics-pG));
  --parent-top-margin: calc(var(--basics-pD, 0) * var(--basics-pG));
  margin-left: var(--wrap-gap, var(--parent-left-margin)) !important;
  margin-top: var(--wrap-gap, var(--parent-top-margin)) !important;
}

[basics-stack] [basics-stack] {
  --basics-D: initial;
  --basics-pD: initial;
  --basics-SD: initial;
  --basics-MD: initial;
  --basics-LD: initial;
  --basics-XLD: initial;
  --basics-G: initial;
  --basics-pG: initial;
  --basics-SG: initial;
  --basics-MG: initial;
  --basics-LG: initial;
  --basics-XLG: initial;
  --basics-A: initial;
  --basics-SA: initial;
  --basics-MA: initial;
  --basics-LA: initial;
  --basics-XLA: initial;
  --basics-J: initial;
  --basics-SJ: initial;
  --basics-MJ: initial;
  --basics-LJ: initial;
  --basics-XLJ: initial;
}

[basics-stack] > :first-child {
  margin-left: var(--basics--wrap) var(--_fG);
  margin-top: var(--basics--wrap) var(--_fG);
}

/* Spacer utility */
[basics-spacer] {
  display: block;
  width: 1px;
  height: 1px;
  min-width: 1px;
  min-height: 1px;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  pointer-events: none;
}

[basics-spacer][basics-spacer] {
  margin-left: calc(var(--basics-gap) * var(--basics-x, 1) - 1px);
  margin-top: calc(var(--basics-gap) * var(--basics-y, 1) - 1px);
}

[basics-spacer][basics-variant~="inline"] {
  display: inline-block;
  margin-top: 0;
}

[basics-spacer][basics-variant~="expand"] {
  flex: 1 1;
}

[basics-spacer][basics-variant~="padding"] {
  margin: 0;
  padding-left: calc(var(--basics-gap) * var(--basics-x, 1) - 1px);
  padding-top: calc(var(--basics-gap) * var(--basics-y, 1) - 1px);
}

/* Skeleton utility */
[basics-skeleton] {
  display: block;
  width: -moz-fit-content;
  width: fit-content;
  height: auto;
}

[basics-skeleton] > * {
  visibility: hidden;
}

/* List utility */
[basics-list] {
  padding: 0;
  margin: 0;
  list-style-type: none;
}

/* CSS Icon system */
[basics-css-icon] {
  --mask: var(--ON);
  --icon: var(--mask, var(--icon));
  display: inline-block;
  -webkit-mask: var(--mask, invalid) var(--icon);
  mask: var(--mask, invalid) var(--icon);
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-size: 100% 100%;
  mask-size: 100% 100%;
  background-color: var(--mask, invalid) currentColor;
  background-repeat: no-repeat;
  background-size: 100% 100%;
}

[basics-css-icon] {
  --size: 1.125em;
  height: var(--size);
  width: var(--size);
  vertical-align: text-top;
}

/* Meta positioning */
.meta {
  position: sticky;
  top: var(--page-top);
  white-space: nowrap;
  z-index: 1;
  grid-column: 1;
}

@media (max-width: 768px) {
  .meta {
    position: relative;
    top: 0;
    width: 100%;
    margin: 0 0 42px;
  }
}

@media (max-width: 1024px) {
  [basics-sidenote]:not(.meta) {
    margin: var(--gap-2x) 0;
    margin-left: var(--gap-2x);
    width: calc(100% - var(--gap-2x));
  }
}

/* Article prose */
article[basics-prose] {
  position: relative;
}
